// Generated by CoffeeScript 1.3.3
(function() {

  $('form').not('.bypass').each(function() {
    return $(this).validate({
      ignoreTitle: true,
      errorElement: 'small',
      errorClass: 'invalid',
      ignore: '[type="hidden"], .hide',
      errorPlacement: function(err, ele) {
        return err.insertAfter(ele);
      },
      submitHandler: function(form) {
        $(form).find('[type="submit"]').attr('disabled', true);
        form.submit();
        return false;
      }
    });
  });

  $('[data-act="submit"]').on('click', function(e) {
    return $($(this).attr('data-target')).submit();
  });

  $('[data-mvp-role="confirm-input"]').on('focus', function() {
    return $($(this).attr('data-mvp-target') || $(this).attr('href')).slideDown();
  });

  $(".make-switch").on("switch-change", function(e, data) {
    return $(data.el).val((data.value ? 1 : 0));
  });

  $('.datepicker, .input-group.date').datepicker({
    autoclose: true
  });

  $('.datepicker-dob').datepicker({
    autoclose: true,
    startView: 2
  });

  $('.alert-danger').animate({
    top: $('.navbar-fixed-top').height()
  });

  $('[data-href]').on('click', function() {
    return window.location = $(this).attr('data-href');
  });

  $('[data-toggle="tooltip"], .tooltipper').tooltip();

  $(".wysihtml").wysihtml5({
    "font-styles": true,
    emphasis: true,
    lists: true,
    html: true,
    link: true,
    image: true,
    color: false
  });

  $(".sortable").sortable().bind("sortupdate", function(e, ui) {
    var ids;
    ids = $(this).children().map(function() {
      return $(this).attr("data-mvp-id");
    }).get();
    return $.post($(this).attr("data-mvp-url"), {
      "ids[]": ids
    }, (function(data) {
      return $.mvp.onAjaxCallback(data);
    }), "json");
  });

}).call(this);
